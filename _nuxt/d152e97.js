(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{327:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={methods:{schoolColor:function(e){return"Ecumenical"===e?"text-ecumenical":"Spiritism"===e?"text-spiritism":"Necromancy"===e?"text-necromancy":"Elementalism"===e?"text-elementalism":"text-dark"},chanceColor:function(e){return"background-color: hsl(".concat(120-120*(1-e/100),", 60%, 60%); color: #000000;")},formatPrice:function(e){if(!e)return"-";var t=Math.floor(e/100),n=e>=100?e%100:e,output="";return t>0&&(output+=t+"g"),t>0&&n>0&&(output+=" "),n>0&&(output+=n+"s"),output}}}},334:function(e,t,n){"use strict";n.r(t);n(5),n(4),n(6),n(7);var r=n(0),l=(n(1),n(3),n(2),n(69)),o=n(327);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v=["heal","damage","mana","range","speed","castTime","skillRange","alignment"],d={name:"IndexPage",mixins:[o.a],data:function(){var e=this;return{spellProperties:v,selectedSchools:[],fields:[{key:"spell",tdClass:"text-nowrap"},{key:"school",tdClass:function(t){return e.schoolColor(t)}},{key:"min"},{key:"max"},{key:"chance",tdAttr:function(t,n,r){return{style:e.chanceColor(t)}}},{key:"price",formatter:function(t){return e.formatPrice(t)},tdClass:"text-nowrap"},{key:"more",label:"",tdClass:"col-shrink"}]}},computed:m(m({},Object(l.b)({scribeLevel:"user/getScribeLevel",schools:"spells/getSchools",getSpellsBySchools:"spells/getSpellsBySchools"})),{},{spells:function(){return this.$store.getters["spells/getSpellsBySchools"](this.selectedSchools)},items:function(){var e=this,t=JSON.parse(JSON.stringify(this.spells));return t.forEach((function(t){if("number"!=typeof t.min||"number"!=typeof t.max)return t.chance="-",!0;var n=(e.scribeLevel-t.min)*(100/(t.max-t.min));n=Math.max(n,0),n=Math.min(n,100),t.chance=Math.round(n)})),t},totalPrice:function(){return this.items.reduce((function(e,t){return"number"!=typeof t.price?e:e+t.price}),0)}}),mounted:function(){var e=this;this.$nextTick((function(){e.selectedSchools=e.schools}))},methods:{setScribed:function(e,t){this.$store.commit("spells/setScribed",{spell:e,scribed:t})},spellPropertiesForSpell:function(e){return this.spellProperties.filter((function(t){return!!e[t]}))}}},h=n(70),component=Object(h.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[n("div",{staticClass:"row align-items-end"},[n("div",{staticClass:"col"},[n("h1",[e._v("Scribing")])]),e._v(" "),n("div",{staticClass:"col-auto"},e._l(e.schools,(function(t){return n("b-form-checkbox",{key:"school-"+t,attrs:{name:"selected-schools",value:t,inline:""},model:{value:e.selectedSchools,callback:function(t){e.selectedSchools=t},expression:"selectedSchools"}},[e._v("\n        "+e._s(t)+" "),n("span",{staticClass:"text-muted"},[e._v("("+e._s(e.getSpellsBySchools(t).length)+")")])])})),1)]),e._v(" "),e.items.length>0?n("b-table",{attrs:{items:e.items,fields:e.fields,small:"",striped:"",hover:"",responsive:""},scopedSlots:e._u([{key:"cell(spell)",fn:function(data){return[n("b-form-checkbox",{attrs:{checked:data.item.scribed},on:{change:function(t){return e.setScribed(data.item.spell,t)}}},[e._v("\n        "+e._s(data.item.spell)+"\n      ")])]}},{key:"cell(chance)",fn:function(data){return[e._v("\n      "+e._s(data.item.chance)+"%\n    ")]}},{key:"cell(more)",fn:function(data){return[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"spell-"+data.item.spell,expression:"`spell-${data.item.spell}`"}],attrs:{variant:"primary",size:"sm"}},[e._v("\n        Show\n      ")]),e._v(" "),n("b-modal",{attrs:{id:"spell-"+data.item.spell,title:data.item.spell,"ok-only":"","ok-title":"Close"}},[data.item.description?[n("h3",[e._v("Spell")]),e._v(" "),n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-warning mb-0"},[e._v("Description")]),e._v(" "),n("p",[e._v("\n              "+e._s(data.item.description)+"\n            ")])]),e._v(" "),n("table",{staticClass:"table"},[n("tbody",e._l(e.spellPropertiesForSpell(data.item),(function(t){return n("tr",{key:t},[n("td",{staticClass:"text-warning"},[e._v(e._s(t))]),e._v(" "),n("td",{staticClass:"col-shrink"},[e._v(e._s(data.item[t]))])])})),0)])]:e._e(),e._v(" "),n("h3",[e._v("Scribing")]),e._v(" "),n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-warning mb-0"},[e._v("Magic School")]),e._v(" "),n("p",[e._v("\n            "+e._s(data.item.school)+"\n          ")])]),e._v(" "),n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-warning mb-0"},[e._v("Scribe Level Requirements")]),e._v(" "),n("p",[e._v("\n            "+e._s(data.item.min)+" - "+e._s(data.item.max)+"\n          ")])]),e._v(" "),n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-warning mb-0"},[e._v("Price")]),e._v(" "),n("p",[e._v("\n            "+e._s(e.formatPrice(data.item.price)||"-")+"\n          ")])]),e._v(" "),n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-warning mb-0"},[e._v("Scroll Location")]),e._v(" "),n("p",[e._v("\n            "+e._s(data.item.location)+"\n          ")])])],2)]}},{key:"custom-foot",fn:function(){return[n("b-tr",[n("b-td"),e._v(" "),n("b-td"),e._v(" "),n("b-td"),e._v(" "),n("b-td"),e._v(" "),n("b-td"),e._v(" "),n("b-td",[n("strong",{staticClass:"text-nowrap"},[e._v("\n            "+e._s(e.formatPrice(e.totalPrice))+"*\n          ")])]),e._v(" "),n("b-td")],1)]},proxy:!0}],null,!1,2213594310)}):n("b-alert",{attrs:{variant:"warning",show:""}},[e._v("\n    You haven't selected any schools!\n  ")]),e._v(" "),n("em",{staticClass:"small"},[e._v("* Prices are based upon estimated market trends")])],1)}),[],!1,null,null,null);t.default=component.exports}}]);